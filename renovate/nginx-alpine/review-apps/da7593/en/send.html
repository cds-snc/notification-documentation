<!DOCTYPE html>
<html lang="en-CA">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Send a message | GC Notify</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="shortcut icon" href="https://notification.canada.ca/static/images/favicon.ico">
    <script>
      (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
      })(window,document,'script','dataLayer','GTM-KRKRZQV');
    </script>
    <script async="true" src="https://www.googletagmanager.com/gtag/js?id=G-R04KFLQCVQ"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-R04KFLQCVQ', {anonymize_ip: true});
    </script>
    <meta name="description" content="Integrate directly with the GC Notify API">
    <meta charset="utf-8">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/notification-documentation/renovate/nginx-alpine/review-apps/da7593/assets/css/0.styles.44273fdb.css" as="style"><link rel="preload" href="/notification-documentation/renovate/nginx-alpine/review-apps/da7593/assets/js/app.040b9abb.js" as="script"><link rel="preload" href="/notification-documentation/renovate/nginx-alpine/review-apps/da7593/assets/js/3.0517c72b.js" as="script"><link rel="preload" href="/notification-documentation/renovate/nginx-alpine/review-apps/da7593/assets/js/1.3e8a0f50.js" as="script"><link rel="preload" href="/notification-documentation/renovate/nginx-alpine/review-apps/da7593/assets/js/27.327dfbc7.js" as="script"><link rel="preload" href="/notification-documentation/renovate/nginx-alpine/review-apps/da7593/assets/js/33.a4a6a3d4.js" as="script"><link rel="prefetch" href="/notification-documentation/renovate/nginx-alpine/review-apps/da7593/assets/js/10.5c516f98.js"><link rel="prefetch" href="/notification-documentation/renovate/nginx-alpine/review-apps/da7593/assets/js/11.b88be014.js"><link rel="prefetch" href="/notification-documentation/renovate/nginx-alpine/review-apps/da7593/assets/js/12.51622a44.js"><link rel="prefetch" href="/notification-documentation/renovate/nginx-alpine/review-apps/da7593/assets/js/13.e17cafe5.js"><link rel="prefetch" href="/notification-documentation/renovate/nginx-alpine/review-apps/da7593/assets/js/14.a665ae92.js"><link rel="prefetch" href="/notification-documentation/renovate/nginx-alpine/review-apps/da7593/assets/js/15.6f375fe4.js"><link rel="prefetch" href="/notification-documentation/renovate/nginx-alpine/review-apps/da7593/assets/js/16.4134d4f4.js"><link rel="prefetch" href="/notification-documentation/renovate/nginx-alpine/review-apps/da7593/assets/js/17.50b38424.js"><link rel="prefetch" href="/notification-documentation/renovate/nginx-alpine/review-apps/da7593/assets/js/18.c6a2e0ef.js"><link rel="prefetch" href="/notification-documentation/renovate/nginx-alpine/review-apps/da7593/assets/js/19.0bd2b837.js"><link rel="prefetch" href="/notification-documentation/renovate/nginx-alpine/review-apps/da7593/assets/js/2.095ee38d.js"><link rel="prefetch" href="/notification-documentation/renovate/nginx-alpine/review-apps/da7593/assets/js/20.ba99e720.js"><link rel="prefetch" href="/notification-documentation/renovate/nginx-alpine/review-apps/da7593/assets/js/21.814eb95e.js"><link rel="prefetch" href="/notification-documentation/renovate/nginx-alpine/review-apps/da7593/assets/js/22.7e06a963.js"><link rel="prefetch" href="/notification-documentation/renovate/nginx-alpine/review-apps/da7593/assets/js/23.92f48980.js"><link rel="prefetch" href="/notification-documentation/renovate/nginx-alpine/review-apps/da7593/assets/js/24.3edf43ba.js"><link rel="prefetch" href="/notification-documentation/renovate/nginx-alpine/review-apps/da7593/assets/js/25.fba4143b.js"><link rel="prefetch" href="/notification-documentation/renovate/nginx-alpine/review-apps/da7593/assets/js/26.22495b74.js"><link rel="prefetch" href="/notification-documentation/renovate/nginx-alpine/review-apps/da7593/assets/js/28.2a2a5636.js"><link rel="prefetch" href="/notification-documentation/renovate/nginx-alpine/review-apps/da7593/assets/js/29.f0f7d8ec.js"><link rel="prefetch" href="/notification-documentation/renovate/nginx-alpine/review-apps/da7593/assets/js/30.89f7082a.js"><link rel="prefetch" href="/notification-documentation/renovate/nginx-alpine/review-apps/da7593/assets/js/31.4d159030.js"><link rel="prefetch" href="/notification-documentation/renovate/nginx-alpine/review-apps/da7593/assets/js/32.b7f5b88a.js"><link rel="prefetch" href="/notification-documentation/renovate/nginx-alpine/review-apps/da7593/assets/js/34.6fcd5c98.js"><link rel="prefetch" href="/notification-documentation/renovate/nginx-alpine/review-apps/da7593/assets/js/35.7304d0c7.js"><link rel="prefetch" href="/notification-documentation/renovate/nginx-alpine/review-apps/da7593/assets/js/36.4aefdfe3.js"><link rel="prefetch" href="/notification-documentation/renovate/nginx-alpine/review-apps/da7593/assets/js/37.8e6b6704.js"><link rel="prefetch" href="/notification-documentation/renovate/nginx-alpine/review-apps/da7593/assets/js/38.697227a1.js"><link rel="prefetch" href="/notification-documentation/renovate/nginx-alpine/review-apps/da7593/assets/js/39.3e51330c.js"><link rel="prefetch" href="/notification-documentation/renovate/nginx-alpine/review-apps/da7593/assets/js/4.f614d245.js"><link rel="prefetch" href="/notification-documentation/renovate/nginx-alpine/review-apps/da7593/assets/js/40.45db6c8d.js"><link rel="prefetch" href="/notification-documentation/renovate/nginx-alpine/review-apps/da7593/assets/js/41.0287d4e2.js"><link rel="prefetch" href="/notification-documentation/renovate/nginx-alpine/review-apps/da7593/assets/js/42.55eb3e0e.js"><link rel="prefetch" href="/notification-documentation/renovate/nginx-alpine/review-apps/da7593/assets/js/43.f10fcd75.js"><link rel="prefetch" href="/notification-documentation/renovate/nginx-alpine/review-apps/da7593/assets/js/44.7df1316e.js"><link rel="prefetch" href="/notification-documentation/renovate/nginx-alpine/review-apps/da7593/assets/js/45.d91c4fe2.js"><link rel="prefetch" href="/notification-documentation/renovate/nginx-alpine/review-apps/da7593/assets/js/46.d12704ce.js"><link rel="prefetch" href="/notification-documentation/renovate/nginx-alpine/review-apps/da7593/assets/js/47.578d7541.js"><link rel="prefetch" href="/notification-documentation/renovate/nginx-alpine/review-apps/da7593/assets/js/48.5e649b27.js"><link rel="prefetch" href="/notification-documentation/renovate/nginx-alpine/review-apps/da7593/assets/js/49.4c0f4169.js"><link rel="prefetch" href="/notification-documentation/renovate/nginx-alpine/review-apps/da7593/assets/js/5.13ac6dae.js"><link rel="prefetch" href="/notification-documentation/renovate/nginx-alpine/review-apps/da7593/assets/js/50.c8b86765.js"><link rel="prefetch" href="/notification-documentation/renovate/nginx-alpine/review-apps/da7593/assets/js/51.30f87d06.js"><link rel="prefetch" href="/notification-documentation/renovate/nginx-alpine/review-apps/da7593/assets/js/52.7bb1d802.js"><link rel="prefetch" href="/notification-documentation/renovate/nginx-alpine/review-apps/da7593/assets/js/6.95f904da.js"><link rel="prefetch" href="/notification-documentation/renovate/nginx-alpine/review-apps/da7593/assets/js/9.f6c4b3aa.js"><link rel="prefetch" href="/notification-documentation/renovate/nginx-alpine/review-apps/da7593/assets/js/vendors~docsearch.289606e8.js">
    <link rel="stylesheet" href="/notification-documentation/renovate/nginx-alpine/review-apps/da7593/assets/css/0.styles.44273fdb.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KRKRZQV" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript> <div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/notification-documentation/renovate/nginx-alpine/review-apps/da7593/en/" class="home-link router-link-active"><img src="https://assets.notification.canada.ca/static/gov-canada-en.svg" alt="GC Notify" class="logo"> <div class="site-name can-hide">GC Notify</div> <div class="site-subtitle">API documentation</div></a> <div class="links"><div class="search-box"><input aria-label="Search" type="search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide nav-links"><div class="nav-item"><a href="/notification-documentation/renovate/nginx-alpine/review-apps/da7593/fr/envoyer.html" class="nav-link">
  Français
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/notification-documentation/renovate/nginx-alpine/review-apps/da7593/fr/envoyer.html" class="nav-link">
  Français
</a></div> <!----></nav> <div class="back-to-notify"><a href="https://notification.canada.ca" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Back to GC Notify
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <div class="back-to-notify"><a href="https://notification.canada.ca/guidance" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Visit Guidance
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <ul class="sidebar-links"><li><a href="/notification-documentation/renovate/nginx-alpine/review-apps/da7593/en/" aria-current="page" class="sidebar-link">Integrate the API</a></li><li><a href="/notification-documentation/renovate/nginx-alpine/review-apps/da7593/en/start.html" class="sidebar-link">Get started</a></li><li><a href="/notification-documentation/renovate/nginx-alpine/review-apps/da7593/en/send.html" aria-current="page" class="active sidebar-link">Send a message</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notification-documentation/renovate/nginx-alpine/review-apps/da7593/en/send.html#check-status-repair-and-resend-messages" class="sidebar-link">Check status, repair and resend messages</a></li><li class="sidebar-sub-header"><a href="/notification-documentation/renovate/nginx-alpine/review-apps/da7593/en/send.html#sending-an-email" class="sidebar-link">Sending an email</a></li><li class="sidebar-sub-header"><a href="/notification-documentation/renovate/nginx-alpine/review-apps/da7593/en/send.html#sending-files-by-email-is-an-api-only-feature" class="sidebar-link">Sending files by email is an API-only feature</a></li><li class="sidebar-sub-header"><a href="/notification-documentation/renovate/nginx-alpine/review-apps/da7593/en/send.html#sending-a-text-message" class="sidebar-link">Sending a text message</a></li><li class="sidebar-sub-header"><a href="/notification-documentation/renovate/nginx-alpine/review-apps/da7593/en/send.html#sending-notifications-in-bulk" class="sidebar-link">Sending notifications in bulk</a></li><li class="sidebar-sub-header"><a href="/notification-documentation/renovate/nginx-alpine/review-apps/da7593/en/send.html#curl-example" class="sidebar-link">CURL Example</a></li></ul></li><li><a href="/notification-documentation/renovate/nginx-alpine/review-apps/da7593/en/status.html" class="sidebar-link">Get message status</a></li><li><a href="/notification-documentation/renovate/nginx-alpine/review-apps/da7593/en/testing.html" class="sidebar-link">Testing</a></li><li><a href="/notification-documentation/renovate/nginx-alpine/review-apps/da7593/en/keys.html" class="sidebar-link">API keys</a></li><li><a href="/notification-documentation/renovate/nginx-alpine/review-apps/da7593/en/limits.html" class="sidebar-link">Limits</a></li><li><a href="/notification-documentation/renovate/nginx-alpine/review-apps/da7593/en/callbacks.html" class="sidebar-link">Callbacks</a></li><li><a href="/notification-documentation/renovate/nginx-alpine/review-apps/da7593/en/architecture.html" class="sidebar-link">API architecture</a></li><li><a href="/notification-documentation/renovate/nginx-alpine/review-apps/da7593/en/clients.html" class="sidebar-link">Client libraries</a></li><li><a href="/notification-documentation/renovate/nginx-alpine/review-apps/da7593/en/apispec.html" class="sidebar-link">Open API Specification</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="send-a-message"><a href="#send-a-message" aria-hidden="true" tabindex="-1" class="header-anchor">#</a> Send a message</h1> <p>You can use GC Notify to send emails and text messages. These might be in response to a user-generated event, like a receipt after they apply to your service, or as a reminder when a payment is due.</p> <p><strong>What you'll need:</strong></p> <p>To send a message with GC Notify, you'll need to set up a template in the user interface.</p> <p>To create a template:</p> <ol><li><a href="https://notification.canada.ca/sign-in" target="_blank" rel="noopener noreferrer">Sign in to GC Notify<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</li> <li>Go to the <strong>Templates</strong> page.</li> <li>Select <strong>New template</strong>.</li></ol> <p>Once you've got a template ready, find the template ID associated with it. You'll need that ID to specify which template you want to use when you call the API.</p> <p>Your API call must also include any fields that have been set up as personalisations. Personalisation allows you to change what shows up in a specific message as it gets sent out. You might use personalisation to:</p> <ul><li>Address a user by their name</li> <li>Provide users with a specific link to click</li> <li>Send a unique transaction number as a follow up</li> <li>Give users a dynamically generated list of actions they need to take</li></ul> <h2 id="check-status-repair-and-resend-messages"><a href="#check-status-repair-and-resend-messages" aria-hidden="true" tabindex="-1" class="header-anchor">#</a> Check status, repair and resend messages</h2> <p>If your HTTP requests receive a:</p> <ol><li>4xx class error for an invalid request.</li> <li>5xx class error for server failure.</li></ol> <p>GC Notify treats these errors as unprocessed requests. Resend these requests so we can process them.</p> <p>Requests must receive 2xx class success in order for GC Notify to retry until sending is done. Restrict requests to GC Notify’s API to 1000 per minute. You’ll get a 429 error if you exceed this number.</p> <h2 id="sending-an-email"><a href="#sending-an-email" aria-hidden="true" tabindex="-1" class="header-anchor">#</a> Sending an email</h2> <div class="language- extra-class"><pre class="language-text"><code>POST /v2/notifications/email
</code></pre></div><h3 id="request-body"><a href="#request-body" aria-hidden="true" tabindex="-1" class="header-anchor">#</a> Request body</h3> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;email_address&quot;</span><span class="token operator">:</span> <span class="token string">&quot;sender@something.com&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;template_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;f33517ff-2a88-4f6e-b855-c550268ce08a&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="arguments"><a href="#arguments" aria-hidden="true" tabindex="-1" class="header-anchor">#</a> Arguments</h3> <p><strong>email_address (required)</strong></p> <p>The <code>email_address</code> of the recipient.</p> <div class="content__default"><p><strong>template_id (required)</strong></p> <p>To find the <code>template_id</code>:</p> <ol><li><a href="https://notification.canada.ca/sign-in" target="_blank" rel="noopener noreferrer">Sign in to GC Notify<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</li> <li>Go to the <strong>Templates</strong> page and select the relevant template.</li> <li>Select <strong>Copy template ID to clipboard</strong>.</li></ol></div> <p><strong>personalisation (optional)</strong></p> <p>Use <code>personalisation</code> if a template has placeholder fields for personalised information such as name or reference number, you need to provide their values in a dictionary with key value pairs. For example:</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token property">&quot;personalisation&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">&quot;first_name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Amala&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;application_date&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2018-01-01&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>You can leave out this argument if a template does not have any placeholder fields for personalised information.</p> <p><strong>reference (optional)</strong></p> <p><code>reference</code> is an identifier you can create if necessary. This reference identifies a single notification or a batch of notifications. It must not contain any personal information such as name or mailing address. For example:</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token property">&quot;reference&quot;</span><span class="token operator">:</span> <span class="token string">&quot;STRING&quot;</span>
</code></pre></div><p>You can leave out this argument if you do not have a reference.</p> <p><strong>email_reply_to_id (optional)</strong></p> <p><code>email_reply_to_id</code> is an email address specified by you to receive replies from your users.</p> <p>To add a reply-to email address:</p> <ol><li><a href="https://notification.canada.ca/sign-in" target="_blank" rel="noopener noreferrer">Sign in to GC Notify<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</li> <li>Go to the <strong>Settings</strong> page.</li> <li>In the <strong>Email</strong> section, select <strong>Manage</strong> on the <strong>Reply-to email addresses</strong> row.</li> <li>Select <strong>Add reply-to address</strong>.</li> <li>Enter the email address you want to use, and select <strong>Add</strong>.</li></ol> <p>For example:</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token property">&quot;email_reply_to_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;8e222534-7f05-4972-86e3-17c5d9f894e2&quot;</span>
</code></pre></div><p>You can leave out this argument if your service only has one reply-to email address, or you want to use the default email address.</p> <h2 id="sending-files-by-email-is-an-api-only-feature"><a href="#sending-files-by-email-is-an-api-only-feature" aria-hidden="true" tabindex="-1" class="header-anchor">#</a> Sending files by email is an API-only feature</h2> <p>To turn on this feature, <a href="https://notification.canada.ca/sign-in" target="_blank" rel="noopener noreferrer">sign in to GC Notify<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> and go to the <strong>Settings</strong> page.</p> <div class="custom-block tip"><p class="custom-block-title">Malware scanning</p> <p>GC Notify scans file attachments for malware before sending. If malware is detected, GC Notify will not sent the notification and you’ll receive an error message.</p></div> <h3 id="file-types"><a href="#file-types" aria-hidden="true" tabindex="-1" class="header-anchor">#</a> File types</h3> <p>You can upload .pdf, .csv, .jpeg, .png, .odt, .txt, .rtf, as well as Microsoft Excel and Microsoft Word files. If you need to send other file types, <a href="https://notification.canada.ca/contact" target="_blank" rel="noopener noreferrer">contact us<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <h3 id="file-quantity-and-size"><a href="#file-quantity-and-size" aria-hidden="true" tabindex="-1" class="header-anchor">#</a> File quantity and size</h3> <p>GC Notify allows a maximum of 10 file attachments per email notification.</p> <p>The email’s size, including accompanying files, cannot exceed 6MB.</p> <h3 id="you-can-send-files-in-2-ways"><a href="#you-can-send-files-in-2-ways" aria-hidden="true" tabindex="-1" class="header-anchor">#</a> You can send files in 2 ways</h3> <ol><li>Directly attached to the email (attachment mode).</li> <li>As a unique link, to download from the email (link mode).</li></ol> <p>You control the sending method on every API call.</p> <h3 id="attachments-are-generally-preferable"><a href="#attachments-are-generally-preferable" aria-hidden="true" tabindex="-1" class="header-anchor">#</a> Attachments are generally preferable</h3> <p>If you use link mode, GC Notify needs to encrypt and store the file. For privacy reasons, we delete the file after 7 days. After deletion, recipients get a 404 “File not found” error when they select the link.</p> <p>In contrast, recipients can access attachments indefinitely, if permitted by their email provider. They may also be more familiar with receiving files as attachments.</p> <h3 id="in-some-situations-there-may-be-advantages-to-link-mode"><a href="#in-some-situations-there-may-be-advantages-to-link-mode" aria-hidden="true" tabindex="-1" class="header-anchor">#</a> In some situations, there may be advantages to link mode</h3> <p>Some email providers and security rules block attachments. For example, government departments may restrict attachments for internal communication.</p> <p>Before choosing a sending method, perform tests to check what works best for your use case. You can also <a href="https://notification.canada.ca/contact" target="_blank" rel="noopener noreferrer">contact us<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <h3 id="upload-your-file"><a href="#upload-your-file" aria-hidden="true" tabindex="-1" class="header-anchor">#</a> Upload your file</h3> <p>To send files, pass a dictionary in the <code>personalisation</code> argument. Pass this dictionary to the placeholder key if it’s present in your template or use a name of your choice.</p> <p>You’ll need to specify:</p> <ul><li><code>file</code>: convert the file into a string that is base64 encoded. Example: <code>Q2FuYWRh</code> (<code>Canada</code> encoded in base64)</li> <li><code>filename</code>: the filename of the file you are sending. Example: <code>service_name_applicant_name.pdf</code></li> <li><code>sending_method</code>: specify how you want to send this file. Either <code>attach</code> for the direct attachment method or <code>link</code> to generate a unique link</li></ul> <h4 id="if-you-re-sending-files-as-direct-attachments"><a href="#if-you-re-sending-files-as-direct-attachments" aria-hidden="true" tabindex="-1" class="header-anchor">#</a> If you’re sending files as direct attachments</h4> <p>Specify <code>attach</code> as <code>sending_method</code>.</p> <p>For example:</p> <p><strong>Template</strong></p> <div class="language- extra-class"><pre class="language-text"><code>Hello ((first_name)),

We received your application on ((application_date)).

You will find your application attached.
</code></pre></div><p><strong>HTTP parameters</strong></p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token property">&quot;personalisation&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">&quot;first_name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Amala&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;application_date&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2018-01-01&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;application_file&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;file&quot;</span><span class="token operator">:</span> <span class="token string">&quot;file as base64 encoded string&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;filename&quot;</span><span class="token operator">:</span> <span class="token string">&quot;your_custom_filename.pdf&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;sending_method&quot;</span><span class="token operator">:</span> <span class="token string">&quot;attach&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Below is an example of sending multiple files:</p> <p><strong>HTTP parameters</strong></p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token property">&quot;personalisation&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">&quot;application_file&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;file&quot;</span><span class="token operator">:</span> <span class="token string">&quot;file as base64 encoded string&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;filename&quot;</span><span class="token operator">:</span> <span class="token string">&quot;your_custom_filename.txt&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;sending_method&quot;</span><span class="token operator">:</span> <span class="token string">&quot;attach&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;other_file&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;file&quot;</span><span class="token operator">:</span> <span class="token string">&quot;other file as base64 encoded string&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;filename&quot;</span><span class="token operator">:</span> <span class="token string">&quot;file2.txt&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;sending_method&quot;</span><span class="token operator">:</span> <span class="token string">&quot;attach&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;file_3&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;file&quot;</span><span class="token operator">:</span> <span class="token string">&quot;file3 as base64 encoded string&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;filename&quot;</span><span class="token operator">:</span> <span class="token string">&quot;file3.txt&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;sending_method&quot;</span><span class="token operator">:</span> <span class="token string">&quot;attach&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="if-you-re-sending-files-as-unique-links"><a href="#if-you-re-sending-files-as-unique-links" aria-hidden="true" tabindex="-1" class="header-anchor">#</a> If you’re sending files as unique links</h4> <ol><li>Add a placeholder to the email template</li> <li>Send HTTP requests, specify <code>link</code> as <code>sending_method</code></li></ol> <p><strong>Add a placeholder to the template</strong></p> <ol><li><a href="https://notification.canada.ca/sign-in" target="_blank" rel="noopener noreferrer">Sign in to GC Notify<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</li> <li>Go to the <strong>Templates</strong> page and select the relevant email template.</li> <li>Select <strong>Edit</strong>.</li> <li>Add a placeholder to the email template using double brackets. For example: <code>((link_to_file))</code></li></ol> <div class="language- extra-class"><pre class="language-text"><code>You can [now download your application](((link_to_file))).
</code></pre></div><p>For example:</p> <p><strong>Template</strong></p> <div class="language- extra-class"><pre class="language-text"><code>Hello ((first_name)),

We received your application on ((application_date)).

You can [now download your application](((link_to_file))).
</code></pre></div><p><strong>HTTP parameters</strong></p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token property">&quot;personalisation&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">&quot;first_name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Amala&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;application_date&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2018-01-01&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;link_to_file&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;file&quot;</span><span class="token operator">:</span> <span class="token string">&quot;file as base64 encoded string&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;filename&quot;</span><span class="token operator">:</span> <span class="token string">&quot;your_custom_filename.pdf&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;sending_method&quot;</span><span class="token operator">:</span> <span class="token string">&quot;link&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="response"><a href="#response" aria-hidden="true" tabindex="-1" class="header-anchor">#</a> Response</h3> <p>If the request to the client is successful, the client returns a <code>dict</code>:</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;740e5834-3a29-46b4-9a6f-16142fde533a&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;reference&quot;</span><span class="token operator">:</span> <span class="token string">&quot;STRING&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;content&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;subject&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SUBJECT TEXT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;body&quot;</span><span class="token operator">:</span> <span class="token string">&quot;MESSAGE TEXT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;from_email&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SENDER EMAIL&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;uri&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://api.notification.canada.ca/v2/notifications/740e5834-3a29-46b4-9a6f-16142fde533a&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;template&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;f33517ff-2a88-4f6e-b855-c550268ce08a&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token property">&quot;uri&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://api.notification.canada.ca/v2/template/f33517ff-2a88-4f6e-b855-c550268ce08a&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="error-codes"><a href="#error-codes" aria-hidden="true" tabindex="-1" class="header-anchor">#</a> Error codes</h3> <p>If the request fails, the response body is <code>json</code> with the following keys:</p> <ul><li><code>status_code</code> with the integer status code,</li> <li><code>errors</code> with an array of objects. Each object has 2 more keys, one  labeled <code>error</code> and the other labeled <code>message</code>.</li></ul> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;errors&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;error&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BadRequestError&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;message&quot;</span><span class="token operator">:</span> <span class="token string">&quot;The error message.&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;error&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ValidationError&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;message&quot;</span><span class="token operator">:</span> <span class="token string">&quot;The error message.&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;status_code&quot;</span><span class="token operator">:</span> <span class="token number">400</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">Note</p> <p>Error messages returned by the API are only in English.</p></div> <p>The table below gives status codes and example error objects.</p> <table><thead><tr><th style="text-align:left;">status_code</th> <th style="text-align:left;">message</th> <th style="text-align:left;">How to fix</th></tr></thead> <tbody><tr><td style="text-align:left;"><code>400</code></td> <td style="text-align:left;"><code>[{</code><br><code>&quot;error&quot;: &quot;BadRequestError&quot;,</code><br><code>&quot;message&quot;: &quot;Can't send to this recipient using a team-only API key&quot;</code><br><code>}]</code></td> <td style="text-align:left;">Use the correct type of <a href="/notification-documentation/renovate/nginx-alpine/review-apps/da7593/en/keys.html">API key</a></td></tr> <tr><td style="text-align:left;"><code>400</code></td> <td style="text-align:left;"><code>[{</code><br><code>&quot;error&quot;: &quot;BadRequestError&quot;,</code><br><code>&quot;message&quot;: &quot;Can't send to this recipient when service is in trial mode</code><br><code>}]</code></td> <td style="text-align:left;">Your service cannot send this notification in trial mode. You can request to go live in settings.</td></tr> <tr><td style="text-align:left;"><code>400</code></td> <td style="text-align:left;"><code>[{</code><br><code>&quot;error&quot;: &quot;BadRequestError&quot;,</code><br><code>&quot;message&quot;: &quot;Unsupported file type '(FILE TYPE)'. Supported types are: '(ALLOWED TYPES)&quot;</code><br><code>}]</code></td> <td style="text-align:left;">Wrong file type. You can only upload .pdf, .csv, .txt, .jpeg, .png, .doc, .docx, .xls, .xlsx, .rtf or .odt files</td></tr> <tr><td style="text-align:left;"><code>400</code></td> <td style="text-align:left;"><code>[{</code><br><code>&quot;error&quot;: &quot;BadRequestError&quot;,</code><br><code>&quot;message&quot;: &quot;File did not pass the virus scan&quot;</code><br><code>}]</code></td> <td style="text-align:left;">The file contains a virus</td></tr> <tr><td style="text-align:left;"><code>400</code></td> <td style="text-align:left;"><code>[{</code><br><code>&quot;error&quot;: &quot;ValidationError&quot;,</code><br><code>&quot;message&quot;: &quot;sending_method is a required property&quot;</code><br><code>}]</code></td> <td style="text-align:left;">Specify either <code>attach</code> or <code>link</code> as a sending method</td></tr> <tr><td style="text-align:left;"><code>400</code></td> <td style="text-align:left;"><code>[{</code><br><code>&quot;error&quot;: &quot;ValidationError&quot;,</code><br><code>&quot;message&quot;: &quot;filename is a required property&quot;</code><br><code>}]</code></td> <td style="text-align:left;">Specify a filename for the file you are sending</td></tr> <tr><td style="text-align:left;"><code>400</code></td> <td style="text-align:left;"><code>[{</code><br><code>&quot;error&quot;: &quot;ValidationError&quot;,</code><br><code>&quot;message&quot;: &quot;personalisation (key) is not one of [attach, link]&quot;</code><br><code>}]</code></td> <td style="text-align:left;">The sending method specified must be either <code>attach</code> or <code>link</code></td></tr> <tr><td style="text-align:left;"><code>400</code></td> <td style="text-align:left;"><code>[{</code><br><code>&quot;error&quot;: &quot;ValidationError&quot;,</code><br><code>&quot;message&quot;: &quot;(key) : Incorrect padding : Error decoding base64 field&quot;</code><br><code>}]</code></td> <td style="text-align:left;">The file must be converted to a string that is base64 encoded</td></tr> <tr><td style="text-align:left;"><code>400</code></td> <td style="text-align:left;"><code>[{</code><br><code>&quot;error&quot;: &quot;ValidationError&quot;,</code><br><code>&quot;message&quot;: &quot;filename is too short&quot;</code><br><code>}]</code></td> <td style="text-align:left;">File name must be at least 3 characters</td></tr> <tr><td style="text-align:left;"><code>400</code></td> <td style="text-align:left;"><code>[{</code><br><code>&quot;error&quot;: &quot;ValidationError&quot;,</code><br><code>&quot;message&quot;: &quot;filename is too long&quot;</code><br><code>}]</code></td> <td style="text-align:left;">File name must be less than 250 characters</td></tr> <tr><td style="text-align:left;"><code>403</code></td> <td style="text-align:left;"><code>[{</code><br><code>&quot;error&quot;: &quot;AuthError&quot;,</code><br><code>&quot;message&quot;: &quot;Error: Your system clock must be accurate to within 30 seconds&quot;</code><br><code>}]</code></td> <td style="text-align:left;">Check your system clock</td></tr> <tr><td style="text-align:left;"><code>403</code></td> <td style="text-align:left;"><code>[{</code><br><code>&quot;error&quot;: &quot;AuthError&quot;,</code><br><code>&quot;message&quot;: &quot;Invalid token: API key not found&quot;</code><br><code>}]</code></td> <td style="text-align:left;">Use the correct <a href="/notification-documentation/renovate/nginx-alpine/review-apps/da7593/en/keys.html">API keys</a></td></tr> <tr><td style="text-align:left;"><code>429</code></td> <td style="text-align:left;"><code>[{</code><br><code>&quot;error&quot;: &quot;RateLimitError&quot;,</code><br><code>&quot;message&quot;: &quot;Exceeded rate limit for key type TEAM/TEST/LIVE of 1000 requests per 60 seconds&quot;</code><br><code>}]</code></td> <td style="text-align:left;">Refer to <a href="/notification-documentation/renovate/nginx-alpine/review-apps/da7593/en/limits.html#rate-limits">API rate limits</a> for more information</td></tr> <tr><td style="text-align:left;"><code>429</code></td> <td style="text-align:left;"><code>[{</code><br><code>&quot;error&quot;: &quot;TooManyRequestsError&quot;,</code><br><code>&quot;message&quot;: &quot;Exceeded send limits (LIMIT NUMBER) for today&quot;</code><br><code>}]</code></td> <td style="text-align:left;">Refer to <a href="/notification-documentation/renovate/nginx-alpine/review-apps/da7593/en/limits.html">service limits</a> for the limit number</td></tr> <tr><td style="text-align:left;"><code>500</code></td> <td style="text-align:left;"><code>[{</code><br><code>&quot;error&quot;: &quot;Exception&quot;,</code><br><code>&quot;message&quot;: &quot;Internal server error&quot;</code><br><code>}]</code></td> <td style="text-align:left;">GC Notify was unable to process the request, resend your notification.</td></tr></tbody></table> <h2 id="sending-a-text-message"><a href="#sending-a-text-message" aria-hidden="true" tabindex="-1" class="header-anchor">#</a> Sending a text message</h2> <div class="language- extra-class"><pre class="language-text"><code>POST /v2/notifications/sms
</code></pre></div><h3 id="request-body-2"><a href="#request-body-2" aria-hidden="true" tabindex="-1" class="header-anchor">#</a> Request body</h3> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;phone_number&quot;</span><span class="token operator">:</span> <span class="token string">&quot;+19021234567&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;template_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;f33517ff-2a88-4f6e-b855-c550268ce08a&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="arguments-2"><a href="#arguments-2" aria-hidden="true" tabindex="-1" class="header-anchor">#</a> Arguments</h3> <p><strong>phone_number (required)</strong></p> <p>The <code>phone_number</code> of the recipient of the text message.</p> <div class="content__default"><p><strong>template_id (required)</strong></p> <p>To find the <code>template_id</code>:</p> <ol><li><a href="https://notification.canada.ca/sign-in" target="_blank" rel="noopener noreferrer">Sign in to GC Notify<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</li> <li>Go to the <strong>Templates</strong> page and select the relevant template.</li> <li>Select <strong>Copy template ID to clipboard</strong>.</li></ol></div> <p><strong>personalisation (optional)</strong></p> <p>Use <code>personalisation</code> if a template has placeholder fields for personalised information such as name or reference number, you must provide their values in a dictionary with key value pairs. For example:</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token property">&quot;personalisation&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">&quot;first_name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Amala&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;application_date&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2018-01-01&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>You can leave out this argument if a template does not have any placeholder fields for personalised information.</p> <p><strong>reference (optional)</strong></p> <p><code>reference</code> is an identifier you can create if necessary. This reference identifies a single notification or a batch of notifications. It must not contain any personal information such as name or postal address. For example:</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token property">&quot;reference&quot;</span><span class="token operator">:</span> <span class="token string">&quot;STRING&quot;</span>
</code></pre></div><p>You can leave out this argument if you do not have a reference.</p> <p><strong>sms_sender_id (optional)</strong></p> <p><code>sms_sender_id</code> is a unique identifier of the sender of the text message notification.</p> <p>To find the text message sender:</p> <ol><li><a href="https://notification.canada.ca/sign-in" target="_blank" rel="noopener noreferrer">Sign in to  Notify<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</li> <li>Go to the <strong>Settings</strong> page.</li> <li>In the <strong>Text Messages</strong> section, select <strong>Manage</strong> on the <strong>Text Message sender</strong> row.</li></ol> <p>You can then either:</p> <ul><li>copy the sender ID that you want to use and paste it into the method</li> <li>select <strong>Change</strong> to change the default sender that the service will use, and select <strong>Save</strong></li></ul> <div class="language-json extra-class"><pre class="language-json"><code><span class="token property">&quot;sms_sender_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;8e222534-7f05-4972-86e3-17c5d9f894e2&quot;</span>
</code></pre></div><p>You can leave out this argument if your service only has one text message sender, or if you want to use the default sender.</p> <h3 id="response-2"><a href="#response-2" aria-hidden="true" tabindex="-1" class="header-anchor">#</a> Response</h3> <p>If the request is successful, the response body is <code>json</code> with a status code of <code>201</code>:</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;740e5834-3a29-46b4-9a6f-16142fde533a&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;reference&quot;</span><span class="token operator">:</span> <span class="token string">&quot;STRING&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;content&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;body&quot;</span><span class="token operator">:</span> <span class="token string">&quot;MESSAGE TEXT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;from_number&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SENDER&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;uri&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://api.notification.canada.ca/v2/notifications/740e5834-3a29-46b4-9a6f-16142fde533a&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;template&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;f33517ff-2a88-4f6e-b855-c550268ce08a&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token property">&quot;uri&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://api.notification.canada.ca/v2/template/ceb50d92-100d-4b8b-b559-14fa3b091cd&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>If you are using the <a href="/notification-documentation/renovate/nginx-alpine/review-apps/da7593/en/keys.html">test API key</a>, all your messages will come back with a <code>delivered</code> status.</p> <p>All messages sent using the team and safelist or live keys will appear on your dashboard.</p> <h3 id="error-codes-2"><a href="#error-codes-2" aria-hidden="true" tabindex="-1" class="header-anchor">#</a> Error codes</h3> <p>If the request is not successful, the response body is <code>json</code>, refer to the table below for details.</p> <table><thead><tr><th style="text-align:left;">status_code</th> <th style="text-align:left;">message</th> <th style="text-align:left;">How to fix</th></tr></thead> <tbody><tr><td style="text-align:left;"><code>400</code></td> <td style="text-align:left;"><code>[{</code><br><code>&quot;error&quot;: &quot;BadRequestError&quot;,</code><br><code>&quot;message&quot;: &quot;Can't send to this recipient using a team-only API key&quot;</code><br><code>}]</code></td> <td style="text-align:left;">Use the correct type of <a href="/notification-documentation/renovate/nginx-alpine/review-apps/da7593/en/keys.html">API key</a></td></tr> <tr><td style="text-align:left;"><code>400</code></td> <td style="text-align:left;"><code>[{</code><br><code>&quot;error&quot;: &quot;BadRequestError&quot;,</code><br><code>&quot;message&quot;: &quot;Can't send to this recipient when service is in trial mode&quot;</code><br><code>}]</code></td> <td style="text-align:left;">Your service cannot send this notification in trial mode. You can request to go live in settings.</td></tr> <tr><td style="text-align:left;"><code>403</code></td> <td style="text-align:left;"><code>[{</code><br><code>&quot;error&quot;: &quot;AuthError&quot;,</code><br><code>&quot;message&quot;: &quot;Error: Your system clock must be accurate to within 30 seconds&quot;</code><br><code>}]</code></td> <td style="text-align:left;">Check your system clock</td></tr> <tr><td style="text-align:left;"><code>403</code></td> <td style="text-align:left;"><code>[{</code><br><code>&quot;error&quot;: &quot;AuthError&quot;,</code><br><code>&quot;message&quot;: &quot;Invalid token: API key not found&quot;</code><br><code>}]</code></td> <td style="text-align:left;">Use the correct <a href="/notification-documentation/renovate/nginx-alpine/review-apps/da7593/en/keys.html">API key</a></td></tr> <tr><td style="text-align:left;"><code>429</code></td> <td style="text-align:left;"><code>[{</code><br><code>&quot;error&quot;: &quot;RateLimitError&quot;,</code><br><code>&quot;message&quot;: &quot;Exceeded rate limit for key type TEAM/TEST/LIVE of 1000 requests per 60 seconds&quot;</code><br><code>}]</code></td> <td style="text-align:left;">Refer to <a href="/notification-documentation/renovate/nginx-alpine/review-apps/da7593/en/limits.html">API rate limits</a> for more information</td></tr> <tr><td style="text-align:left;"><code>429</code></td> <td style="text-align:left;"><code>[{</code><br><code>&quot;error&quot;: &quot;TooManyRequestsError&quot;,</code><br><code>&quot;message&quot;: &quot;Exceeded send limits (LIMIT NUMBER) for today&quot;</code><br><code>}]</code></td> <td style="text-align:left;">Refer to <a href="/notification-documentation/renovate/nginx-alpine/review-apps/da7593/en/limits.html">service limits</a> for the limit number</td></tr> <tr><td style="text-align:left;"><code>500</code></td> <td style="text-align:left;"><code>[{</code><br><code>&quot;error&quot;: &quot;Exception&quot;,</code><br><code>&quot;message&quot;: &quot;Internal server error&quot;</code><br><code>}]</code></td> <td style="text-align:left;">GC Notify was unable to process the request, resend your notification.</td></tr></tbody></table> <h2 id="sending-notifications-in-bulk"><a href="#sending-notifications-in-bulk" aria-hidden="true" tabindex="-1" class="header-anchor">#</a> Sending notifications in bulk</h2> <div class="language- extra-class"><pre class="language-text"><code>POST /v2/notifications/bulk
</code></pre></div><p>Send notifications in bulk, up to 50,000 recipients at a time, for a single template. You can schedule to send notifications up to 4 days in advance.</p> <h3 id="request-body-3"><a href="#request-body-3" aria-hidden="true" tabindex="-1" class="header-anchor">#</a> Request body</h3> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Bulk send name&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;template_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;f33517ff-2a88-4f6e-b855-c550268ce08a&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;rows&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">[</span><span class="token string">&quot;email address&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;name&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token string">&quot;alice@example.com&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Alice&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token string">&quot;bob@example.com&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Bob&quot;</span><span class="token punctuation">]</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;scheduled_for&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2021-06-08T15:15:00&quot;</span><span class="token punctuation">,</span> # optional string
  <span class="token property">&quot;reply_to_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;f025b1a9-63af-43e8-b969-627bfe544bba&quot;</span> # optional string
<span class="token punctuation">}</span>
</code></pre></div><h3 id="arguments-3"><a href="#arguments-3" aria-hidden="true" tabindex="-1" class="header-anchor">#</a> Arguments</h3> <p><strong>name (required)</strong></p> <p>The <code>name</code> of your bulk sending job. Used to identify this bulk of notifications later on.</p> <div class="content__default"><p><strong>template_id (required)</strong></p> <p>To find the <code>template_id</code>:</p> <ol><li><a href="https://notification.canada.ca/sign-in" target="_blank" rel="noopener noreferrer">Sign in to GC Notify<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</li> <li>Go to the <strong>Templates</strong> page and select the relevant template.</li> <li>Select <strong>Copy template ID to clipboard</strong>.</li></ol></div> <p><strong>rows (required)</strong></p> <p><code>rows</code> is an array of arrays. The first line is the header and should include at least <code>email address</code> if you're sending an email template or <code>phone number</code> if you're sending a text message template. The other column headers should match the placeholder fields (personalised variables) of your template.</p> <p>The following lines should be your recipients' details and should match the order of column headers. You can have between 1 and 50,000 recipients.</p> <h4 id="optional-arguments"><a href="#optional-arguments" aria-hidden="true" tabindex="-1" class="header-anchor">#</a> Optional arguments</h4> <p><strong>scheduled_for (optional)</strong></p> <p>If you want to send notifications in the future, you can specify a datetime up to 4 days in the future, in <a href="https://en.wikipedia.org/wiki/ISO_8601" target="_blank" rel="noopener noreferrer">ISO 8601 format<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. For example: <code>2021-06-08T15:15:00</code> (UTC time).</p> <p><strong>reply_to_id (optional)</strong></p> <p>If you want to use a specific reply-to email address when sending emails, you can specify a reply-to email address ID.</p> <p>To find your reply-to email address ID:</p> <ol><li><a href="https://notification.canada.ca/sign-in" target="_blank" rel="noopener noreferrer">Sign in to GC Notify<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</li> <li>Go to the <strong>Settings</strong> page.</li> <li>In the <strong>Email</strong> section, select <strong>Reply-to email addresses</strong></li> <li>Copy the ID of the reply-to email address you want to use</li></ol> <p>By default, GC Notify will use your default reply-to email address if you don't specify one, or none if you didn't set up one.</p> <p><strong>csv (optional)</strong></p> <p>If you prefer to pass the content of CSV files instead of rows in the <code>rows</code> argument, you can do so. Pass the full content of your CSV file in a key named <code>csv</code>. Do not include the <code>rows</code> argument.</p> <p>For example:</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Bulk send name&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;template_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;f33517ff-2a88-4f6e-b855-c550268ce08a&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;csv&quot;</span><span class="token operator">:</span> <span class="token string">&quot;email address,name\nalice@example.com,Alice&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="response-3"><a href="#response-3" aria-hidden="true" tabindex="-1" class="header-anchor">#</a> Response</h3> <div class="custom-block warning"><p class="custom-block-title">Response timeout</p> <p>If you specify a response timeout when calling this endpoint, make sure it is set to 15 seconds. The GC Notify API could take a few seconds to validate your request and save the payload if you submit a large bulk sending job with many recipients.</p></div> <p>If the request is successful, the response body is <code>json</code> with a status code of <code>201</code>:</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
   <span class="token property">&quot;data&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
      <span class="token property">&quot;api_key&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
         <span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token string">&quot;de1fafa2-fb2a-49c5-9b9a-8400727ecd29&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;key_type&quot;</span><span class="token operator">:</span><span class="token string">&quot;team&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;Test&quot;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">&quot;archived&quot;</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token property">&quot;created_at&quot;</span><span class="token operator">:</span><span class="token string">&quot;2021-06-10T17:14:15.341308+00:00&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;created_by&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
         <span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token string">&quot;6af522d0-2915-4e52-83a3-3690455a5fe6&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;Notify service user&quot;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token string">&quot;0ea216ae-4b03-46b7-ab44-893ae85104f5&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;job_status&quot;</span><span class="token operator">:</span><span class="token string">&quot;pending&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;notification_count&quot;</span><span class="token operator">:</span><span class="token number">3</span><span class="token punctuation">,</span>
      <span class="token property">&quot;original_file_name&quot;</span><span class="token operator">:</span><span class="token string">&quot;Bulk send name&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;processing_finished&quot;</span><span class="token operator">:</span><span class="token null keyword">null</span><span class="token punctuation">,</span>
      <span class="token property">&quot;processing_started&quot;</span><span class="token operator">:</span><span class="token null keyword">null</span><span class="token punctuation">,</span>
      <span class="token property">&quot;scheduled_for&quot;</span><span class="token operator">:</span><span class="token null keyword">null</span><span class="token punctuation">,</span>
      <span class="token property">&quot;sender_id&quot;</span><span class="token operator">:</span><span class="token string">&quot;f025b1a9-63af-43e8-b969-627bfe544bba&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;service&quot;</span><span class="token operator">:</span><span class="token string">&quot;afa2be3b-1250-430f-a70f-28a1a9d49dfa&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;service_name&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
         <span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;Test service&quot;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">&quot;template&quot;</span><span class="token operator">:</span><span class="token string">&quot;f33517ff-2a88-4f6e-b855-c550268ce08a&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;template_version&quot;</span><span class="token operator">:</span><span class="token number">4</span><span class="token punctuation">,</span>
      <span class="token property">&quot;updated_at&quot;</span><span class="token operator">:</span><span class="token null keyword">null</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>You can follow the progression of your bulk sending job from the GC Notify web interface.</p> <p>If you scheduled your batch in the future, you can cancel it from the web interface.</p> <h3 id="error-codes-3"><a href="#error-codes-3" aria-hidden="true" tabindex="-1" class="header-anchor">#</a> Error codes</h3> <p>If the request is not successful, the response body is <code>json</code>, refer to the table below for details.</p> <table><thead><tr><th style="text-align:left;">status_code</th> <th style="text-align:left;">message</th> <th style="text-align:left;">How to fix</th></tr></thead> <tbody><tr><td style="text-align:left;"><code>400</code></td> <td style="text-align:left;"><code>[{</code><br><code>&quot;error&quot;: &quot;BadRequestError&quot;,</code><br><code>&quot;message&quot;: &quot;You should specify either rows or csv&quot;</code><br><code>}]</code></td> <td style="text-align:left;">Pass data through <code>rows</code> or <code>csv</code></td></tr> <tr><td style="text-align:left;"><code>400</code></td> <td style="text-align:left;"><code>[{</code><br><code>&quot;error&quot;: &quot;ValidationError&quot;,</code><br><code>&quot;message&quot;: &quot;name is a required property&quot;</code><br><code>}]</code></td> <td style="text-align:left;">Specify the <code>name</code> property</td></tr> <tr><td style="text-align:left;"><code>400</code></td> <td style="text-align:left;"><code>[{</code><br><code>&quot;error&quot;: &quot;ValidationError&quot;,</code><br><code>&quot;message&quot;: &quot;scheduled_for 42 is not of type string, null&quot;</code><br><code>}]</code></td> <td style="text-align:left;">Check that you pass a valid <a href="https://en.wikipedia.org/wiki/ISO_8601" target="_blank" rel="noopener noreferrer">ISO 8601 datetime<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr> <tr><td style="text-align:left;"><code>400</code></td> <td style="text-align:left;"><code>[{</code><br><code>&quot;error&quot;: &quot;ValidationError&quot;,</code><br><code>&quot;message&quot;: &quot;scheduled_for datetime cannot be in the past&quot;</code><br><code>}]</code></td> <td style="text-align:left;">Check that you pass a datetime in the future</td></tr> <tr><td style="text-align:left;"><code>400</code></td> <td style="text-align:left;"><code>[{</code><br><code>&quot;error&quot;: &quot;ValidationError&quot;,</code><br><code>&quot;message&quot;: &quot;scheduled_for datetime can only be up to 96 hours in the future&quot;</code><br><code>}]</code></td> <td style="text-align:left;">Check that you pass datetime at most 4 days in the future</td></tr> <tr><td style="text-align:left;"><code>400</code></td> <td style="text-align:left;"><code>[{</code><br><code>&quot;error&quot;: &quot;ValidationError&quot;,</code><br><code>&quot;message&quot;: &quot;scheduled_for datetime format is invalid. It must be a valid ISO8601 date time format, https://en.wikipedia.org/wiki/ISO_8601&quot;</code><br><code>}]</code></td> <td style="text-align:left;">Check that you pass a valid <a href="https://en.wikipedia.org/wiki/ISO_8601" target="_blank" rel="noopener noreferrer">ISO 8601 datetime<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr> <tr><td style="text-align:left;"><code>400</code></td> <td style="text-align:left;"><code>[{</code><br><code>&quot;error&quot;: &quot;BadRequestError&quot;,</code><br><code>&quot;message&quot;: &quot;Template not found&quot;</code><br><code>}]</code></td> <td style="text-align:left;">Update template ID</td></tr> <tr><td style="text-align:left;"><code>400</code></td> <td style="text-align:left;"><code>[{</code><br><code>&quot;error&quot;: &quot;BadRequestError&quot;,</code><br><code>&quot;message&quot;: &quot;Template has been deleted&quot;</code><br><code>}]</code></td> <td style="text-align:left;">Create a new template and update its ID</td></tr> <tr><td style="text-align:left;"><code>400</code></td> <td style="text-align:left;"><code>[{</code><br><code>&quot;error&quot;: &quot;BadRequestError&quot;,</code><br><code>&quot;message&quot;: &quot;Service is not allowed to send emails&quot;</code><br><code>}]</code></td> <td style="text-align:left;">Turn on email sending in Settings</td></tr> <tr><td style="text-align:left;"><code>400</code></td> <td style="text-align:left;"><code>[{</code><br><code>&quot;error&quot;: &quot;BadRequestError&quot;,</code><br><code>&quot;message&quot;: &quot;Missing column headers: name&quot;</code><br><code>}]</code></td> <td style="text-align:left;">Add the missing column header</td></tr> <tr><td style="text-align:left;"><code>400</code></td> <td style="text-align:left;"><code>[{</code><br><code>&quot;error&quot;: &quot;BadRequestError&quot;,</code><br><code>&quot;message&quot;: &quot;Duplicate column headers: name, NAME&quot;</code><br><code>}]</code></td> <td style="text-align:left;">Remove the duplicate column headers</td></tr> <tr><td style="text-align:left;"><code>400</code></td> <td style="text-align:left;"><code>[{</code><br><code>&quot;error&quot;: &quot;BadRequestError&quot;,</code><br><code>&quot;message&quot;: &quot;Too many rows. Maximum number of rows allowed is 50000&quot;</code><br><code>}]</code></td> <td style="text-align:left;">Pass less than 50,000 rows</td></tr> <tr><td style="text-align:left;"><code>400</code></td> <td style="text-align:left;"><code>[{</code><br><code>{&quot;error&quot;: &quot;BadRequestError&quot;,</code><br><code>&quot;message&quot;: &quot;You cannot send to these recipients because you used a team and safelist API key.&quot;</code><br><code>}]</code></td> <td style="text-align:left;">Request to go live in Settings or use <a href="/notification-documentation/renovate/nginx-alpine/review-apps/da7593/en/keys.html">a live API key</a></td></tr> <tr><td style="text-align:left;"><code>400</code></td> <td style="text-align:left;"><code>[{</code><br><code>&quot;error&quot;: &quot;BadRequestError&quot;,</code><br><code>&quot;message&quot;: &quot;You cannot send to these recipients because your service is in trial mode. You can only send to members of your team and your safelist.&quot;</code><br><code>}]</code></td> <td style="text-align:left;">Add more team members, update your safelist or request to go live</td></tr> <tr><td style="text-align:left;"><code>400</code></td> <td style="text-align:left;"><code>[{</code><br><code>&quot;error&quot;: &quot;BadRequestError&quot;,</code><br><code>&quot;message&quot;: &quot;You only have 50 remaining messages before you reach your daily limit. You've tried to send 75 messages.&quot;</code><br><code>}]</code></td> <td style="text-align:left;">Remove rows in excess, try again tomorrow or request a limit increase</td></tr> <tr><td style="text-align:left;"><code>400</code></td> <td style="text-align:left;"><code>[{</code><br><code>&quot;error&quot;: &quot;BadRequestError&quot;,</code><br><code>&quot;message&quot;: &quot;Some rows have errors. Row 1 - name: Missing. Row 2 - email address: invalid recipient. Row 3 - name: Missing. Row 4 - name: Missing.&quot;</code><br><code>}]</code></td> <td style="text-align:left;">Make sure rows don't have missing values</td></tr> <tr><td style="text-align:left;"><code>500</code></td> <td style="text-align:left;"><code>[{</code><br><code>&quot;error&quot;: &quot;Exception&quot;,</code><br><code>&quot;message&quot;: &quot;Internal server error&quot;</code><br><code>}]</code></td> <td style="text-align:left;">GC Notify was unable to process the request. Re-send your notification.</td></tr></tbody></table> <h2 id="curl-example"><a href="#curl-example" aria-hidden="true" tabindex="-1" class="header-anchor">#</a> CURL Example</h2> <p>Example to send a single notification</p> <div class="language- extra-class"><pre class="language-text"><code>curl --request POST \
  --url https://api.notification.canada.ca/v2/notifications/email \
  --header 'Authorization: ApiKey-v1 YOUR_API_KEY' \
  --header 'Content-Type: application/json' \
  --header 'base_url: https:///notification.canada.ca' \
  --data '{
        &quot;email_address&quot;: &quot;EMAIL_ADDRESS_TO_SEND_NOTIFICAITION&quot;,
        &quot;template_id&quot;: &quot;TEMPLATE_ID&quot;
}'
</code></pre></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/cds-snc/notification-documentation/edit/main/src/en/send.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub (opens in a new tab)</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last updated:</span> <span class="time">2025-06-16</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/notification-documentation/renovate/nginx-alpine/review-apps/da7593/en/start.html" class="prev">
        Get started
      </a></span> <span class="next"><a href="/notification-documentation/renovate/nginx-alpine/review-apps/da7593/en/status.html">
        Get message status
      </a>
      →
    </span></p></div> </main></div></div><div class="global-ui"><!----></div></div>
    <script src="/notification-documentation/renovate/nginx-alpine/review-apps/da7593/assets/js/app.040b9abb.js" defer></script><script src="/notification-documentation/renovate/nginx-alpine/review-apps/da7593/assets/js/3.0517c72b.js" defer></script><script src="/notification-documentation/renovate/nginx-alpine/review-apps/da7593/assets/js/1.3e8a0f50.js" defer></script><script src="/notification-documentation/renovate/nginx-alpine/review-apps/da7593/assets/js/27.327dfbc7.js" defer></script><script src="/notification-documentation/renovate/nginx-alpine/review-apps/da7593/assets/js/33.a4a6a3d4.js" defer></script>
  </body>
</html>
